(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(e,t,n){e.exports={UsersBloc:"Users_Bloc_UsersBloc__hej4W",buttonGrope:"Users_Bloc_buttonGrope__2KvhU",users:"Users_Bloc_users__1snKM",userPagination:"Users_Bloc_userPagination__OCN7H"}},102:function(e,t,n){e.exports={navLink:"Nav_Bloc_navLink__1Uk0L"}},124:function(e,t,n){e.exports={LoginContainer:"Login_Container_LoginContainer__1N2Mm",form:"Login_Container_form__26Bva",family:"Login_Container_family__1fTFo"}},204:function(e,t,n){e.exports={contentContainer:"Content_Container_contentContainer__k9Krs"}},205:function(e,t,n){e.exports={NavContainer:"Nav_Container_NavContainer__3lVuP"}},206:function(e,t,n){e.exports={GroupAvatars:"GroupAvatars_GroupAvatars__Jm7v0"}},255:function(e,t,n){},256:function(e,t,n){},385:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(45),s=n.n(c),o=(n(255),n(256),n(44)),i=n(22),u=n(124),l=n.n(u),j=n(190),b=n(191),d=function(e){return e||"number"===typeof e?void 0:"Required"},h=n(443),p=n(429),f=n(1);function O(e){return Object(f.jsx)(p.a,{direction:"row",spacing:2,children:Object(f.jsx)(h.a,{type:e.type,sx:{minWidth:e.minWidth},children:e.name})})}var x=n(15),m=n(451),g=n(452),v=n(440);function _(e){return Object(f.jsx)(m.a,{children:Object(f.jsx)(g.a,Object(x.a)({control:Object(f.jsx)(v.a,Object(x.a)({},e))},e))})}var k=n(198),w=n(445),S=n(437),U=["input","meta"];function y(e){var t=e.input,n=e.meta,r=Object(k.a)(e,U),a=n.touched;n.error,n.warning;return Object(f.jsx)(w.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:Object(f.jsx)("div",{children:Object(f.jsx)(S.a,Object(x.a)(Object(x.a)(Object(x.a)({label:r.nameInput},t),r),{},{sx:{minWidth:"280px"},error:a,id:"outlined-error-helper-text"}))})})}var C,N=(C=32,function(e){return e&&e.length>C?"Must be ".concat(C," characters or less"):void 0});var P=Object(b.a)({form:"login"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)(j.a,{nameInput:"Login",component:y,name:"login",validate:[d,N],type:"loginp][1oIUadVSZ\\"}),Object(f.jsx)(j.a,{nameInput:"Password",component:y,name:"password",validate:[d,N],type:"password"}),e.error&&Object(f.jsx)("span",{style:{background:"red",color:"white"},children:e.error}),Object(f.jsx)(j.a,{type:"checkbox",label:"Remember Me",component:_,name:"checkbox"}),Object(f.jsx)(O,{type:"submit ",minWidth:"320px",name:"Log In"})]})})),L=n(31),R=n(81),A=n.n(R),T=A.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/"}),F=function(){return T.get("auth/me").then((function(e){return e.data}))},B=function(e,t,n){return T.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},I=function(){return T.delete("auth/login").then((function(e){return e.data}))},E=n(94),G={id:null,login:null,email:null,isAuth:!1},W=function(e,t,n,r){return{type:"AUTH-DATA",data:{id:e,login:t,email:n,isAuth:r}}},M=function(){return function(e){F().then((function(t){if(0===t.resultCode){var n=t.data,r=n.email,a=n.id,c=n.login;e(W(a,c,r,!0))}}))}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;return"AUTH-DATA"===t.type?Object(x.a)(Object(x.a)({},e),t.data):e},H=Object(L.b)((function(e){return{isAuth:e.AuthReducer.isAuth}}),{authLoginThunk:function(e,t,n){return function(r){B(e,t,n).then((function(e){if(console.log(e),0===e.resultCode)r(M()),r(Object(E.a)("login"));else{var t=e.messages.length>0?e.messages[0]:"Some error",n=Object(E.b)("login",{_error:t});r(n)}}))}}})((function(e){return e.isAuth?Object(f.jsx)(i.a,{to:"/profile"}):Object(f.jsx)("div",{className:l.a.LoginContainer,children:Object(f.jsxs)("div",{className:l.a.form,children:[Object(f.jsx)("h1",{className:l.a.family,children:"Log in"}),Object(f.jsx)(P,{onSubmit:function(t){e.authLoginThunk(t.login,t.password,!0)}})]})})})),z=n(47),J=n(48),K=n(60),q=n(59),Z=n(446),V=n(447),Y=n(444),Q=n(448),X=n(449);function $(e){return Object(f.jsx)(w.a,{sx:{flexGrow:1,minWidth:"360px"},children:Object(f.jsx)(Z.a,{position:"static",children:Object(f.jsxs)(V.a,{children:[Object(f.jsx)(Q.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(f.jsx)(X.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"})}),Object(f.jsx)(Y.a,{variant:"h6",component:"div",sx:{flexGrow:1}}),e.data.isAuth?Object(f.jsx)(h.a,{onClick:function(){e.authLoginOutThunk()},color:"inherit",children:"Login Out"}):Object(f.jsx)(h.a,{color:"inherit",children:Object(f.jsx)(o.b,{to:"/login",children:"Login"})})]})})})}var ee=function(e){Object(K.a)(n,e);var t=Object(q.a)(n);function n(){return Object(z.a)(this,n),t.apply(this,arguments)}return Object(J.a)(n,[{key:"componentDidMount",value:function(){this.props.authDataThunk()}},{key:"render",value:function(){return Object(f.jsx)($,Object(x.a)({},this.props))}}]),n}(a.a.Component),te=Object(L.b)((function(e){return{data:e.AuthReducer}}),{authDataThunk:M,authLoginOutThunk:function(){return function(e){I().then((function(t){0===t.resultCode&&e(W(null,null,null,!1))}))}}})(ee),ne=A.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"3d4b3ca3-fea7-46c7-8c79-414b84e12e62"}}),re=function(e){return ne.get("profile/".concat(e))},ae=function(e){return ne.get("profile/status/".concat(e))},ce=function(e){return ne.put("profile/status",{status:e})},se="DATA-PROFILE",oe="IS-FETCHING",ie="SET-STATUS",ue={aboutMe:"",contacts:{facebook:"",github:"",instagram:"",mainLink:"",twitter:"",vk:"",website:"",youtube:""},fullName:"",lookingForAJobDescription:"",photos:{large:"",small:""},isFetching:!1,status:""},le=function(e){return{type:oe,isFetching:e}},je=function(e){return{type:ie,status:e}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return Object(x.a)(Object(x.a)({},e),t.data);case oe:return Object(x.a)(Object(x.a)({},e),{},{isFetching:t.isFetching});case ie:return Object(x.a)(Object(x.a)({},e),{},{status:t.status});default:return e}},de=function(e){return{isAuth:e.AuthReducer.isAuth}},he=function(e){var t=function(t){Object(K.a)(r,t);var n=Object(q.a)(r);function r(){return Object(z.a)(this,r),n.apply(this,arguments)}return Object(J.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(f.jsx)(e,Object(x.a)({},this.props)):Object(f.jsx)(i.a,{to:"/login"})}}]),r}(a.a.Component);return Object(L.b)(de)(t)},pe=n(62),fe=n.n(pe),Oe=n(450),xe=function(e){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:fe.a.ProfileBloc,children:[Object(f.jsxs)("div",{className:fe.a.photoBloc,children:[Object(f.jsx)("div",{style:{padding:"10px"},children:Object(f.jsx)("img",{className:fe.a.sizePhoto,src:null===e.photos.large?"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500":e.photos.large})}),Object(f.jsx)("div",{className:fe.a.photoRefactor,children:Object(f.jsx)(O,{minWidth:"180px",name:"Refactor"})})]}),Object(f.jsxs)("div",{className:fe.a.infoBloc,children:[Object(f.jsxs)("div",{className:fe.a.name,children:[Object(f.jsx)("h1",{children:e.fullName}),Object(f.jsx)("span",{children:e.status})]}),Object(f.jsx)(Oe.a,{}),Object(f.jsx)("div",{className:fe.a.info,children:Object(f.jsx)(O,{Width:"100%",name:"Show detailed information"})}),Object(f.jsx)(Oe.a,{}),Object(f.jsx)("div",{})]})]})})},me=function(e){Object(K.a)(n,e);var t=Object(q.a)(n);function n(){return Object(z.a)(this,n),t.apply(this,arguments)}return Object(J.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authId),this.props.profilePage(e),this.props.getStatusThunk(e)}},{key:"render",value:function(){return Object(f.jsx)(xe,Object(x.a)(Object(x.a)({},this.props.data),{},{status:this.props.data.status,updateStatusThunk:this.props.updateStatusThunk}))}}]),n}(a.a.Component),ge=he(me),ve=Object(i.f)(ge),_e=Object(L.b)((function(e){return{data:e.ProfileReducer,authId:e.AuthReducer.id}}),{profilePage:function(e){return function(t){t(le(!0)),re(e).then((function(e){var n;t(le(!1)),t((n=e.data,{type:se,data:n}))}))}},updateStatusThunk:function(e){return function(t){ce(e).then((function(n){0===n.data.resultCode&&t(je(e))}))}},getStatusThunk:function(e){return function(t){ae(e).then((function(e){t(je(e.data))}))}}})(ve),ke=n(18),we=A.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"3d4b3ca3-fea7-46c7-8c79-414b84e12e62"}}),Se=function(e,t){return we.get("users?page=".concat(e,"&count=10&friend=").concat(t))},Ue=function(){return we.get("users?page=1")},ye=function(e){return we.get("users?page=1&".concat(e&&"friend=".concat(e)))},Ce=function(e){return we.delete("follow/".concat(e))},Ne=function(e){return we.post("follow/".concat(e))},Pe={user:[],totalCount:null,page:1,count:20,error:null,isFetching:!1,followProgress:[],isSubscribers:!1},Le=function(e){return{type:"DATA-USERS",data:e}},Re=function(e){return{type:"PAGE-USER",page:e}},Ae=function(e){return{type:"FETCHING-USER",isFetching:e}},Te=function(e){return{type:"FOLLOW-PROGRESS",id:e}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA-USERS":return Object(x.a)(Object(x.a)({},e),{},{user:Object(ke.a)(t.data.items)});case"FOLLOW":return Object(x.a)(Object(x.a)({},e),{},{followProgress:Object(ke.a)(e.followProgress).filter((function(e){return e!==t.id})),user:e.user.map((function(e){return e.id===t.id?Object(x.a)(Object(x.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(x.a)(Object(x.a)({},e),{},{followProgress:Object(ke.a)(e.followProgress).filter((function(e){return e!==t.id})),user:e.user.map((function(e){return e.id===t.id?Object(x.a)(Object(x.a)({},e),{},{followed:!1}):e}))});case"PAGE-USER":return Object(x.a)(Object(x.a)({},e),{},{page:t.page});case"FETCHING-USER":return Object(x.a)(Object(x.a)({},e),{},{isFetching:t.isFetching});case"FOLLOW-PROGRESS":return Object(x.a)(Object(x.a)({},e),{},{followProgress:[].concat(Object(ke.a)(e.followProgress),[t.id])});case"IS-SUBCRIBERS":return Object(x.a)(Object(x.a)({},e),{},{isSubscribers:t.isFriend});default:return e}},Be=n(23),Ie=n(438);function Ee(e){console.log(e);return Object(f.jsx)(p.a,{spacing:2,children:Object(f.jsx)(Ie.a,{count:Math.ceil(e.totalCount/10),onChange:function(t,n){e.paginationUsers(n)},page:e.page})})}var Ge=n(101),We=n.n(Ge),Me=n(53),De=n.n(Me),He=function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:De.a.user,children:[Object(f.jsx)("div",{className:De.a.userPhoto,children:null!==e.photos.small?Object(f.jsx)("img",{className:De.a.sizePhoto,src:e.photos.small}):Object(f.jsx)("img",{className:De.a.sizePhoto,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQKZCceylUAHC-cSKJv7Wb8okOaJaa5SGny-w&usqp=CAU"})}),Object(f.jsxs)("div",{className:De.a.userInfo,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:De.a.userName,children:e.name}),Object(f.jsx)("span",{className:De.a.userName,children:e.status})]}),Object(f.jsx)("div",{className:De.a.userBotton,children:e.followed?Object(f.jsx)(h.a,{disabled:e.followProgress.some((function(t){return t===e.id})),onClick:function(){e.clickFollowThunk(e.id)},color:"secondary",children:"Unfollow"}):Object(f.jsx)(h.a,{disabled:e.followProgress.some((function(t){return t===e.id})),onClick:function(){e.clickUnfollowThunk(e.id)},color:"success",children:"Follow"})})]})]}),Object(f.jsx)(Oe.a,{})]})},ze=n(453),Je=n(33),Ke=n(203),qe=n.n(Ke);function Ze(){return Object(f.jsxs)(ze.a,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:300,boxShadow:"none"},children:[Object(f.jsx)(Je.c,{sx:{ml:1,flex:1},placeholder:"User Search",inputProps:{"aria-label":"User Search"}}),Object(f.jsx)(Oe.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(f.jsx)(Q.a,{color:"primary",sx:{p:"10px"},"aria-label":"directions",children:Object(f.jsx)(qe.a,{})})]})}var Ve=function(e){return Object(f.jsxs)("div",{className:We.a.UsersBloc,children:[Object(f.jsxs)("div",{className:We.a.buttonGrope,children:[Object(f.jsx)(h.a,{onClick:function(){e.getSubscribers(!1)},variant:e.isSubscribers?"text":"contained",sx:{width:"20%"},children:"All Users"}),Object(f.jsx)(h.a,{onClick:function(){e.getSubscribers(!0)},variant:e.isSubscribers?"contained":"text",sx:{width:"20%"},children:"Subscribers"}),Object(f.jsx)(Ze,{})]}),Object(f.jsx)(Oe.a,{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{className:We.a.users,children:e.data.user.map((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.id;return Object(f.jsx)(He,Object(x.a)({followProgress:e.data.followProgress,clickUnfollowThunk:e.clickUnfollowThunk,clickFollowThunk:e.clickFollowThunk},t),n)}))}),Object(f.jsx)("div",{className:We.a.userPagination,children:Object(f.jsx)(Ee,{paginationUsers:e.paginationUsers,totalCount:e.data.totalCount,page:e.page})})]})},Ye=function(e){Object(K.a)(n,e);var t=Object(q.a)(n);function n(){var e;Object(z.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).paginationUsers=function(t,n){e.props.paginationUsers(t,n)},e}return Object(J.a)(n,[{key:"componentDidMount",value:function(){this.props.getUserThunk()}},{key:"render",value:function(){return Object(f.jsx)(Ve,{isSubscribers:this.props.isSubscribers,data:this.props.data,clickUnfollowThunk:this.props.clickUnfollowThunk,clickFollowThunk:this.props.clickFollowThunk,paginationUsers:this.paginationUsers,getSubscribers:this.props.getSubscribers,page:this.props.page})}}]),n}(a.a.Component),Qe=Object(Be.d)(Object(L.b)((function(e){return{data:e.UsersReducer,isSubscribers:e.UsersReducer.isSubscribers,page:e.UsersReducer.page}}),{clickFollowThunk:function(e){return function(t){t(Te(e)),Ce(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:"UNFOLLOW",id:e}}(e))}))}},clickUnfollowThunk:function(e){return function(t){t(Te(e)),Ne(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:"FOLLOW",id:e}}(e))}))}},getUserThunk:function(){return function(e){e(Ae(!0)),Ue().then((function(t){e(Le(t.data)),e(Ae(!1)),e(Re(1))}))}},paginationUsers:function(e){return function(t,n){var r=n().UsersReducer.isSubscribers;Se(e,r).then((function(n){t(Re(e)),t(Le(n.data))}))}},getSubscribers:function(e){return console.log(e),function(t){ye(e).then((function(n){console.log(n.data.items),t(Le(n.data)),t(function(e){return{type:"IS-SUBCRIBERS",isFriend:e}}(e)),t(Re(1))}))}}}))(he(Ye)),Xe=n(204),$e=n.n(Xe),et=n(205),tt=n.n(et),nt=n(454),rt=n(441),at=n(455),ct=n(209),st=n.n(ct),ot=n(207),it=n.n(ot),ut=n(208),lt=n.n(ut),jt=n(210),bt=n.n(jt),dt=n(102),ht=n.n(dt),pt=n(456),ft=n(206),Ot=n.n(ft);function xt(){return Object(f.jsx)("div",{className:Ot.a.GroupAvatars,children:Object(f.jsxs)(pt.a,{max:4,children:[Object(f.jsx)(X.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"}),Object(f.jsx)(X.a,{alt:"Travis Howard",src:"/static/images/avatar/2.jpg"}),Object(f.jsx)(X.a,{alt:"Cindy Baker",src:"/static/images/avatar/3.jpg"}),Object(f.jsx)(X.a,{alt:"Agnes Walker",src:"/static/images/avatar/4.jpg"}),Object(f.jsx)(X.a,{alt:"Trevor Henderson",src:"/static/images/avatar/5.jpg"})]})})}var mt={borderRadius:"8px 8px 8px 8px",width:"100%",maxWidth:360,bgcolor:"background.paper"};function gt(){return Object(f.jsxs)(nt.a,{sx:mt,component:"nav","aria-label":"mailbox folders",children:[Object(f.jsx)(o.b,{className:ht.a.navLink,activeClassName:ht.a.navLink,to:"/profile",children:Object(f.jsxs)(rt.a,{button:!0,children:[Object(f.jsx)(it.a,{}),Object(f.jsx)(at.a,{sx:{marginLeft:"10%"},primary:"Profile"})]})}),Object(f.jsx)(Oe.a,{}),Object(f.jsx)(o.b,{className:ht.a.navLink,activeClassName:ht.a.navLink,to:"/friends",children:Object(f.jsxs)(rt.a,{button:!0,divider:!0,children:[Object(f.jsx)(lt.a,{}),Object(f.jsx)(at.a,{sx:{marginLeft:"10%"},primary:"Friends"})]})}),Object(f.jsxs)(rt.a,{button:!0,children:[Object(f.jsx)(st.a,{}),Object(f.jsx)(at.a,{sx:{marginLeft:"10%"},primary:"Messages"})]}),Object(f.jsx)(Oe.a,{light:!0}),Object(f.jsxs)(rt.a,{button:!0,children:[Object(f.jsx)(bt.a,{}),Object(f.jsx)(at.a,{sx:{marginLeft:"10%"},primary:"Settings"})]}),Object(f.jsx)(Oe.a,{}),Object(f.jsx)(xt,{}),Object(f.jsx)(xt,{}),Object(f.jsx)(xt,{}),Object(f.jsx)(xt,{}),Object(f.jsx)(xt,{})]})}function vt(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:tt.a.NavContainer,children:Object(f.jsx)(gt,{})})})}function _t(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(vt,{}),Object(f.jsx)("div",{className:$e.a.contentContainer,children:e.children})]})}var kt=function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(te,{}),Object(f.jsxs)("div",{className:"containerItems",children:[Object(f.jsx)(i.a,{from:"/",to:"profile"}),Object(f.jsx)(i.b,{path:"/login",render:function(){return Object(f.jsx)(H,{})}}),Object(f.jsx)(i.b,{path:"/profile",render:function(){return Object(f.jsx)(_t,{children:Object(f.jsx)(_e,{})})}}),Object(f.jsx)(i.b,{path:"/friends",render:function(){return Object(f.jsx)(_t,{children:Object(f.jsx)(Qe,{})})}})]})]})})},wt=n(211),St=n(193),Ut=Object(Be.c)({ProfileReducer:be,UsersReducer:Fe,AuthReducer:D,form:St.a}),yt=Object(Be.e)(Ut,Object(Be.a)(wt.a)),Ct=yt;window.store=yt;var Nt=function(e){s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(L.a,{store:e,children:Object(f.jsx)(kt,{})})}),document.getElementById("root"))};Nt(Ct),Ct.subscribe((function(){Nt(Ct)}))},53:function(e,t,n){e.exports={user:"User_user__2N1o1",userPhoto:"User_userPhoto__3j2RQ",userInfo:"User_userInfo__iEOVq",sizePhoto:"User_sizePhoto__dghdp",userName:"User_userName__2-KqS",userBotton:"User_userBotton__1a6m6"}},62:function(e,t,n){e.exports={ProfileBloc:"Profile_Bloc_ProfileBloc__149RS",photoBloc:"Profile_Bloc_photoBloc__1ZuSX",infoBloc:"Profile_Bloc_infoBloc__1hDda",sizePhoto:"Profile_Bloc_sizePhoto__eGRZn",name:"Profile_Bloc_name__dkHrq",info:"Profile_Bloc_info__3JWnJ",photoRefactor:"Profile_Bloc_photoRefactor__RLaZY"}}},[[385,1,2]]]);
//# sourceMappingURL=main.079320ec.chunk.js.map